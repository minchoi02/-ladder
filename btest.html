<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style>
        table, th, td {
            border: 1px solid black;
        }
    </style>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const btnTag = document.querySelector('#id_btn')
            const outTag = document.querySelector('#id_out')

            btnTag.addEventListener('click', (event) => {
                const result = getPrize()
                outTag.textContent = `축하합니다! ${result}`
                btnTag.disabled = true;
                
            })
        })

        const getPrize = function() {
            //랜덤값 생성 (1~100)
            //const ranNum = Math.floor((Math.random() * 99) +1)
            const ranNum = Math.floor((Math.random() * 999) +1)

            //경품 생성
            const gift = ['1등 10,000,000,000', '2등 1,000,000', '3등 50,000', '다음기회에']
            //확률 생성
            //const pbt = [5, 15, 30, 50]
            const pbt = [1, 11, 20, 30]
            //리턴 경품 값
            let res = ''

            for (let i = 0; i < gift.length; i++) {

                if(pbt[i] >= ranNum){
                    res = gift[i]
                    return res
                }
                else if (pbt[pbt.length - 1] < ranNum) {
                    res = gift[gift.length - 1]
                    return res
                }
            }
        }
    </script>
</head>
<body>
    <fieldset>
        <legend>경품 뽑기</legend>
        <table id="id_table">
            <thead>
                <tr>
                    <th colspan="2">경품 목록</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1등</td> <td>10,000,000,000</td>
                </tr>
                <tr>
                    <td>2등</td> <td>1,000,000</td>
                </tr>
                <tr>
                    <td>3등</td> <td>50,000 </td>
                </tr>
            </tbody>
        </table> <br>
        <input type="button" value="경품 추첨" id="id_btn">
    </fieldset>
    <fieldset>
        <legend>결과</legend>
        <h1 id="id_out"></h1>
    </fieldset>
</body>
</html>